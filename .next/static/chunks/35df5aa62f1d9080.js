(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4120,e=>{"use strict";var t=e.i(70484),r=e.i(60436),a=e.i(94239),s=e.i(48326),l=e.i(10348),n=e.i(78699);let i=(0,n.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var o=e.i(38065);let d=(0,n.default)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),c=(0,n.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var u=e.i(43424),m=e.i(88755),p=e.i(65636),x=e.i(63412),h=e.i(44432),f=e.i(28572),v=e.i(24331),g=e.i(10358);let y=(0,n.default)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var j=e.i(47523),b=e.i(61575),w=e.i(45513);let N={Low:"bg-green-500/10 text-green-500 border-green-500/20",Medium:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",High:"bg-orange-500/10 text-orange-500 border-orange-500/20",Urgent:"bg-red-500/10 text-red-500 border-red-500/20"},C={Low:"text-green-500",Medium:"text-yellow-500",High:"text-orange-500",Urgent:"text-red-500"};function S({task:e,onClick:r,index:a}){let l=e.due_date&&new Date(e.due_date)<new Date&&"Completed"!==e.status;return(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*a},whileHover:{y:-2},layout:!0,children:(0,t.jsx)(j.Card,{className:(0,w.cn)("cursor-pointer transition-shadow hover:shadow-lg",l&&"border-red-500/50"),onClick:r,children:(0,t.jsxs)(j.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-start justify-between",children:[(0,t.jsxs)(b.Badge,{className:(0,w.cn)("border",N[e.priority]),children:[(0,t.jsx)(y,{className:(0,w.cn)("mr-1 h-3 w-3",C[e.priority])}),e.priority]}),e.notified&&(0,t.jsx)(b.Badge,{variant:"outline",className:"text-xs",children:"Reminded"})]}),(0,t.jsx)("h3",{className:"mb-2 font-semibold text-foreground line-clamp-1",children:e.title}),e.description&&(0,t.jsx)("p",{className:"mb-4 line-clamp-2 text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:e.due_date&&(0,t.jsxs)("span",{className:(0,w.cn)("flex items-center gap-1",l&&"text-red-500 font-medium"),children:[(0,t.jsx)(g.Calendar,{className:"h-3 w-3"}),(0,v.format)(new Date(e.due_date),"MMM d")]})}),(0,t.jsx)(b.Badge,{variant:"secondary",className:"text-xs",children:e.status})]})]})})})}let k=(0,n.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),P=(0,n.default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var T=e.i(39255),D=e.i(787),E=e.i(25026);function M({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,w.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var I=e.i(14837);function R(e,[t,r]){return Math.min(r,Math.max(t,e))}var L=e.i(62447),H=e.i(53679),z=e.i(27429),B=e.i(76438),_=e.i(24947),A=e.i(4589),F=e.i(99830),O=e.i(99831),V=e.i(10900),U=e.i(37002),K=e.i(47534),W=e.i(94804),q=e.i(9304),$=e.i(6605),G=e.i(55861),X=e.i(96140),Y=e.i(21974),Z=r.forwardRef((e,r)=>(0,t.jsx)(W.Primitive.span,{...e,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Z.displayName="VisuallyHidden";var J=e.i(2931),Q=e.i(98480),ee=[" ","Enter","ArrowUp","ArrowDown"],et=[" ","Enter"],er="Select",[ea,es,el]=(0,H.createCollection)(er),[en,ei]=(0,B.createContextScope)(er,[el,U.createPopperScope]),eo=(0,U.createPopperScope)(),[ed,ec]=en(er),[eu,em]=en(er),ep=e=>{let{__scopeSelect:a,children:s,open:l,defaultOpen:n,onOpenChange:i,value:o,defaultValue:d,onValueChange:c,dir:u,name:m,autoComplete:p,disabled:x,required:h,form:f}=e,v=eo(a),[g,y]=r.useState(null),[j,b]=r.useState(null),[w,N]=r.useState(!1),C=(0,_.useDirection)(u),[S=!1,k]=(0,G.useControllableState)({prop:l,defaultProp:n,onChange:i}),[P,T]=(0,G.useControllableState)({prop:o,defaultProp:d,onChange:c}),D=r.useRef(null),E=!g||f||!!g.closest("form"),[M,I]=r.useState(new Set),R=Array.from(M).map(e=>e.props.value).join(";");return(0,t.jsx)(U.Root,{...v,children:(0,t.jsxs)(ed,{required:h,scope:a,trigger:g,onTriggerChange:y,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:(0,V.useId)(),value:P,onValueChange:T,open:S,onOpenChange:k,dir:C,triggerPointerDownPosRef:D,disabled:x,children:[(0,t.jsx)(ea.Provider,{scope:a,children:(0,t.jsx)(eu,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{I(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{I(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:s})}),E?(0,t.jsxs)(eY,{"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:p,value:P,onChange:e=>T(e.target.value),disabled:x,form:f,children:[void 0===P?(0,t.jsx)("option",{value:""}):null,Array.from(M)]},R):null]})})};ep.displayName=er;var ex="SelectTrigger",eh=r.forwardRef((e,a)=>{let{__scopeSelect:s,disabled:l=!1,...n}=e,i=eo(s),o=ec(ex,s),d=o.disabled||l,c=(0,z.useComposedRefs)(a,o.onTriggerChange),u=es(s),m=r.useRef("touch"),[p,x,h]=eZ(e=>{let t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),a=eJ(t,e,r);void 0!==a&&o.onValueChange(a.value)}),f=e=>{d||(o.onOpenChange(!0),h()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(U.Anchor,{asChild:!0,...i,children:(0,t.jsx)(W.Primitive.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eX(o.value)?"":void 0,...n,ref:c,onClick:(0,L.composeEventHandlers)(n.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&f(e)}),onPointerDown:(0,L.composeEventHandlers)(n.onPointerDown,e=>{m.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:(0,L.composeEventHandlers)(n.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&ee.includes(e.key)&&(f(),e.preventDefault())})})})});eh.displayName=ex;var ef="SelectValue",ev=r.forwardRef((e,r)=>{let{__scopeSelect:a,className:s,style:l,children:n,placeholder:i="",...o}=e,d=ec(ef,a),{onValueNodeHasChildrenChange:c}=d,u=void 0!==n,m=(0,z.useComposedRefs)(r,d.onValueNodeChange);return(0,X.useLayoutEffect)(()=>{c(u)},[c,u]),(0,t.jsx)(W.Primitive.span,{...o,ref:m,style:{pointerEvents:"none"},children:eX(d.value)?(0,t.jsx)(t.Fragment,{children:i}):n})});ev.displayName=ef;var eg=r.forwardRef((e,r)=>{let{__scopeSelect:a,children:s,...l}=e;return(0,t.jsx)(W.Primitive.span,{"aria-hidden":!0,...l,ref:r,children:s||"â–¼"})});eg.displayName="SelectIcon";var ey=e=>(0,t.jsx)(K.Portal,{asChild:!0,...e});ey.displayName="SelectPortal";var ej="SelectContent",eb=r.forwardRef((e,a)=>{let s=ec(ej,e.__scopeSelect),[l,n]=r.useState();return((0,X.useLayoutEffect)(()=>{n(new DocumentFragment)},[]),s.open)?(0,t.jsx)(eC,{...e,ref:a}):l?I.createPortal((0,t.jsx)(ew,{scope:e.__scopeSelect,children:(0,t.jsx)(ea.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),l):null});eb.displayName=ej;var[ew,eN]=en(ej),eC=r.forwardRef((e,a)=>{let{__scopeSelect:s,position:l="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:d,sideOffset:c,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:h,sticky:f,hideWhenDetached:v,avoidCollisions:g,...y}=e,j=ec(ej,s),[b,w]=r.useState(null),[N,C]=r.useState(null),S=(0,z.useComposedRefs)(a,e=>w(e)),[k,P]=r.useState(null),[T,D]=r.useState(null),E=es(s),[M,I]=r.useState(!1),R=r.useRef(!1);r.useEffect(()=>{if(b)return(0,J.hideOthers)(b)},[b]),(0,F.useFocusGuards)();let H=r.useCallback(e=>{let[t,...r]=E().map(e=>e.ref.current),[a]=r.slice(-1),s=document.activeElement;for(let r of e)if(r===s||(r?.scrollIntoView({block:"nearest"}),r===t&&N&&(N.scrollTop=0),r===a&&N&&(N.scrollTop=N.scrollHeight),r?.focus(),document.activeElement!==s))return},[E,N]),B=r.useCallback(()=>H([k,b]),[H,k,b]);r.useEffect(()=>{M&&B()},[M,B]);let{onOpenChange:_,triggerPointerDownPosRef:V}=j;r.useEffect(()=>{if(b){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(V.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():b.contains(r.target)||_(!1),document.removeEventListener("pointermove",t),V.current=null};return null!==V.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[b,_,V]),r.useEffect(()=>{let e=()=>_(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[_]);let[U,K]=eZ(e=>{let t=E().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=eJ(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),W=r.useCallback((e,t,r)=>{let a=!R.current&&!r;(void 0!==j.value&&j.value===t||a)&&(P(e),a&&(R.current=!0))},[j.value]),$=r.useCallback(()=>b?.focus(),[b]),G=r.useCallback((e,t,r)=>{let a=!R.current&&!r;(void 0!==j.value&&j.value===t||a)&&D(e)},[j.value]),X="popper"===l?ek:eS,Y=X===ek?{side:d,sideOffset:c,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:h,sticky:f,hideWhenDetached:v,avoidCollisions:g}:{};return(0,t.jsx)(ew,{scope:s,content:b,viewport:N,onViewportChange:C,itemRefCallback:W,selectedItem:k,onItemLeave:$,itemTextRefCallback:G,focusSelectedItem:B,selectedItemText:T,position:l,isPositioned:M,searchRef:U,children:(0,t.jsx)(Q.RemoveScroll,{as:q.Slot,allowPinchZoom:!0,children:(0,t.jsx)(O.FocusScope,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,L.composeEventHandlers)(n,e=>{j.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(A.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:(0,t.jsx)(X,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...y,...Y,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,L.composeEventHandlers)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||K(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=E().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>H(t)),e.preventDefault()}})})})})})})});eC.displayName="SelectContentImpl";var eS=r.forwardRef((e,a)=>{let{__scopeSelect:s,onPlaced:l,...n}=e,i=ec(ej,s),o=eN(ej,s),[d,c]=r.useState(null),[u,m]=r.useState(null),p=(0,z.useComposedRefs)(a,e=>m(e)),x=es(s),h=r.useRef(!1),f=r.useRef(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:j}=o,b=r.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&u&&v&&g&&y){let e=i.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=i.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==i.dir){let s=a.left-t.left,l=r.left-s,n=e.left-l,i=e.width+n,o=Math.max(i,t.width),c=R(l,[10,Math.max(10,window.innerWidth-10-o)]);d.style.minWidth=i+"px",d.style.left=c+"px"}else{let s=t.right-a.right,l=window.innerWidth-r.right-s,n=window.innerWidth-e.right-l,i=e.width+n,o=Math.max(i,t.width),c=R(l,[10,Math.max(10,window.innerWidth-10-o)]);d.style.minWidth=i+"px",d.style.right=c+"px"}let s=x(),n=window.innerHeight-20,o=v.scrollHeight,c=window.getComputedStyle(u),m=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),f=parseInt(c.borderBottomWidth,10),j=m+p+o+parseInt(c.paddingBottom,10)+f,b=Math.min(5*g.offsetHeight,j),w=window.getComputedStyle(v),N=parseInt(w.paddingTop,10),C=parseInt(w.paddingBottom,10),S=e.top+e.height/2-10,k=g.offsetHeight/2,P=m+p+(g.offsetTop+k);if(P<=S){let e=s.length>0&&g===s[s.length-1].ref.current;d.style.bottom="0px";let t=Math.max(n-S,k+(e?C:0)+(u.clientHeight-v.offsetTop-v.offsetHeight)+f);d.style.height=P+t+"px"}else{let e=s.length>0&&g===s[0].ref.current;d.style.top="0px";let t=Math.max(S,m+v.offsetTop+(e?N:0)+k);d.style.height=t+(j-P)+"px",v.scrollTop=P-S+v.offsetTop}d.style.margin="10px 0",d.style.minHeight=b+"px",d.style.maxHeight=n+"px",l?.(),requestAnimationFrame(()=>h.current=!0)}},[x,i.trigger,i.valueNode,d,u,v,g,y,i.dir,l]);(0,X.useLayoutEffect)(()=>b(),[b]);let[w,N]=r.useState();(0,X.useLayoutEffect)(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);let C=r.useCallback(e=>{e&&!0===f.current&&(b(),j?.(),f.current=!1)},[b,j]);return(0,t.jsx)(eP,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:(0,t.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,t.jsx)(W.Primitive.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});eS.displayName="SelectItemAlignedPosition";var ek=r.forwardRef((e,r)=>{let{__scopeSelect:a,align:s="start",collisionPadding:l=10,...n}=e,i=eo(a);return(0,t.jsx)(U.Content,{...i,...n,ref:r,align:s,collisionPadding:l,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ek.displayName="SelectPopperPosition";var[eP,eT]=en(ej,{}),eD="SelectViewport",eE=r.forwardRef((e,a)=>{let{__scopeSelect:s,nonce:l,...n}=e,i=eN(eD,s),o=eT(eD,s),d=(0,z.useComposedRefs)(a,i.onViewportChange),c=r.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,t.jsx)(ea.Slot,{scope:s,children:(0,t.jsx)(W.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:(0,L.composeEventHandlers)(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=o;if(a?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,s=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(s<a){let l=s+e,n=Math.min(a,l),i=l-n;r.style.height=n+"px","0px"===r.style.bottom&&(t.scrollTop=i>0?i:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});eE.displayName=eD;var eM="SelectGroup",[eI,eR]=en(eM);r.forwardRef((e,r)=>{let{__scopeSelect:a,...s}=e,l=(0,V.useId)();return(0,t.jsx)(eI,{scope:a,id:l,children:(0,t.jsx)(W.Primitive.div,{role:"group","aria-labelledby":l,...s,ref:r})})}).displayName=eM;var eL="SelectLabel";r.forwardRef((e,r)=>{let{__scopeSelect:a,...s}=e,l=eR(eL,a);return(0,t.jsx)(W.Primitive.div,{id:l.id,...s,ref:r})}).displayName=eL;var eH="SelectItem",[ez,eB]=en(eH),e_=r.forwardRef((e,a)=>{let{__scopeSelect:s,value:l,disabled:n=!1,textValue:i,...o}=e,d=ec(eH,s),c=eN(eH,s),u=d.value===l,[m,p]=r.useState(i??""),[x,h]=r.useState(!1),f=(0,z.useComposedRefs)(a,e=>c.itemRefCallback?.(e,l,n)),v=(0,V.useId)(),g=r.useRef("touch"),y=()=>{n||(d.onValueChange(l),d.onOpenChange(!1))};if(""===l)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(ez,{scope:s,value:l,disabled:n,textId:v,isSelected:u,onItemTextChange:r.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(ea.ItemSlot,{scope:s,value:l,disabled:n,textValue:m,children:(0,t.jsx)(W.Primitive.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:f,onFocus:(0,L.composeEventHandlers)(o.onFocus,()=>h(!0)),onBlur:(0,L.composeEventHandlers)(o.onBlur,()=>h(!1)),onClick:(0,L.composeEventHandlers)(o.onClick,()=>{"mouse"!==g.current&&y()}),onPointerUp:(0,L.composeEventHandlers)(o.onPointerUp,()=>{"mouse"===g.current&&y()}),onPointerDown:(0,L.composeEventHandlers)(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:(0,L.composeEventHandlers)(o.onPointerMove,e=>{g.current=e.pointerType,n?c.onItemLeave?.():"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,L.composeEventHandlers)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,L.composeEventHandlers)(o.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&(et.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});e_.displayName=eH;var eA="SelectItemText",eF=r.forwardRef((e,a)=>{let{__scopeSelect:s,className:l,style:n,...i}=e,o=ec(eA,s),d=eN(eA,s),c=eB(eA,s),u=em(eA,s),[m,p]=r.useState(null),x=(0,z.useComposedRefs)(a,e=>p(e),c.onItemTextChange,e=>d.itemTextRefCallback?.(e,c.value,c.disabled)),h=m?.textContent,f=r.useMemo(()=>(0,t.jsx)("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=u;return(0,X.useLayoutEffect)(()=>(v(f),()=>g(f)),[v,g,f]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W.Primitive.span,{id:c.textId,...i,ref:x}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?I.createPortal(i.children,o.valueNode):null]})});eF.displayName=eA;var eO="SelectItemIndicator",eV=r.forwardRef((e,r)=>{let{__scopeSelect:a,...s}=e;return eB(eO,a).isSelected?(0,t.jsx)(W.Primitive.span,{"aria-hidden":!0,...s,ref:r}):null});eV.displayName=eO;var eU="SelectScrollUpButton",eK=r.forwardRef((e,a)=>{let s=eN(eU,e.__scopeSelect),l=eT(eU,e.__scopeSelect),[n,i]=r.useState(!1),o=(0,z.useComposedRefs)(a,l.onScrollButtonChange);return(0,X.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){i(t.scrollTop>0)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?(0,t.jsx)(e$,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eK.displayName=eU;var eW="SelectScrollDownButton",eq=r.forwardRef((e,a)=>{let s=eN(eW,e.__scopeSelect),l=eT(eW,e.__scopeSelect),[n,i]=r.useState(!1),o=(0,z.useComposedRefs)(a,l.onScrollButtonChange);return(0,X.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;i(Math.ceil(t.scrollTop)<e)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?(0,t.jsx)(e$,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eq.displayName=eW;var e$=r.forwardRef((e,a)=>{let{__scopeSelect:s,onAutoScroll:l,...n}=e,i=eN("SelectScrollButton",s),o=r.useRef(null),d=es(s),c=r.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),(0,X.useLayoutEffect)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,t.jsx)(W.Primitive.div,{"aria-hidden":!0,...n,ref:a,style:{flexShrink:0,...n.style},onPointerDown:(0,L.composeEventHandlers)(n.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(l,50))}),onPointerMove:(0,L.composeEventHandlers)(n.onPointerMove,()=>{i.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(l,50))}),onPointerLeave:(0,L.composeEventHandlers)(n.onPointerLeave,()=>{c()})})});r.forwardRef((e,r)=>{let{__scopeSelect:a,...s}=e;return(0,t.jsx)(W.Primitive.div,{"aria-hidden":!0,...s,ref:r})}).displayName="SelectSeparator";var eG="SelectArrow";function eX(e){return""===e||void 0===e}r.forwardRef((e,r)=>{let{__scopeSelect:a,...s}=e,l=eo(a),n=ec(eG,a),i=eN(eG,a);return n.open&&"popper"===i.position?(0,t.jsx)(U.Arrow,{...l,...s,ref:r}):null}).displayName=eG;var eY=r.forwardRef((e,a)=>{let{value:s,...l}=e,n=r.useRef(null),i=(0,z.useComposedRefs)(a,n),o=(0,Y.usePrevious)(s);return r.useEffect(()=>{let e=n.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==s&&t){let r=new Event("change",{bubbles:!0});t.call(e,s),e.dispatchEvent(r)}},[o,s]),(0,t.jsx)(Z,{asChild:!0,children:(0,t.jsx)("select",{...l,ref:i,defaultValue:s})})});function eZ(e){let t=(0,$.useCallbackRef)(e),a=r.useRef(""),s=r.useRef(0),l=r.useCallback(e=>{let r=a.current+e;t(r),function e(t){a.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),n=r.useCallback(()=>{a.current="",window.clearTimeout(s.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),[a,l,n]}function eJ(e,t,r){var a,s;let l=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=r?e.indexOf(r):-1,i=(a=e,s=Math.max(n,0),a.map((e,t)=>a[(s+t)%a.length]));1===l.length&&(i=i.filter(e=>e!==r));let o=i.find(e=>e.textValue.toLowerCase().startsWith(l.toLowerCase()));return o!==r?o:void 0}eY.displayName="BubbleSelect";var eQ=e.i(98816);let e0=(0,n.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),e1=(0,n.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function e2({...e}){return(0,t.jsx)(ep,{"data-slot":"select",...e})}function e4({...e}){return(0,t.jsx)(ev,{"data-slot":"select-value",...e})}function e5({className:e,size:r="default",children:a,...s}){return(0,t.jsxs)(eh,{"data-slot":"select-trigger","data-size":r,className:(0,w.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[a,(0,t.jsx)(eg,{asChild:!0,children:(0,t.jsx)(e0,{className:"size-4 opacity-50"})})]})}function e3({className:e,children:r,position:a="popper",...s}){return(0,t.jsx)(ey,{children:(0,t.jsxs)(eb,{"data-slot":"select-content",className:(0,w.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[(0,t.jsx)(e8,{}),(0,t.jsx)(eE,{className:(0,w.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,t.jsx)(e9,{})]})})}function e6({className:e,children:r,...a}){return(0,t.jsxs)(e_,{"data-slot":"select-item",className:(0,w.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(eV,{children:(0,t.jsx)(eQ.CheckIcon,{className:"size-4"})})}),(0,t.jsx)(eF,{children:r})]})}function e8({className:e,...r}){return(0,t.jsx)(eK,{"data-slot":"select-scroll-up-button",className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(e1,{className:"size-4"})})}function e9({className:e,...r}){return(0,t.jsx)(eq,{"data-slot":"select-scroll-down-button",className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,t.jsx)(e0,{className:"size-4"})})}var e7=e.i(61670);let te={Low:"bg-green-500/10 text-green-500",Medium:"bg-yellow-500/10 text-yellow-500",High:"bg-orange-500/10 text-orange-500",Urgent:"bg-red-500/10 text-red-500"},tt={Pending:"bg-blue-500/10 text-blue-500",InProgress:"bg-yellow-500/10 text-yellow-500",Completed:"bg-green-500/10 text-green-500",Archived:"bg-gray-500/10 text-gray-500"};function tr({task:e,open:a,onClose:l}){let{updateTask:n,deleteTask:i,isUpdating:o,isDeleting:d}=(0,e7.useTasks)(),[c,u]=(0,r.useState)(!1),[x,j]=(0,r.useState)(""),[N,C]=(0,r.useState)("");if(!e)return null;let S=async()=>{try{await n(e.id,{title:x,description:N}),u(!1)}catch(e){console.error("Failed to update task:",e)}},I=async()=>{try{await i(e.id),l()}catch(e){console.error("Failed to delete task:",e)}},R=async t=>{try{await n(e.id,{status:t})}catch(e){console.error("Failed to update status:",e)}},L=async t=>{try{await n(e.id,{priority:t})}catch(e){console.error("Failed to update priority:",e)}},H=e.due_date&&new Date(e.due_date)<new Date&&"Completed"!==e.status;return(0,t.jsx)(h.AnimatePresence,{children:a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",onClick:l}),(0,t.jsxs)(s.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-1/2 top-1/2 z-50 flex max-h-[90vh] w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 flex-col overflow-hidden rounded-2xl border border-border bg-card shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(b.Badge,{className:(0,w.cn)(te[e.priority]),children:[(0,t.jsx)(y,{className:"mr-1 h-3 w-3"}),e.priority]}),(0,t.jsx)(b.Badge,{className:(0,w.cn)(tt[e.status]),children:e.status}),H&&(0,t.jsx)(b.Badge,{variant:"destructive",children:"Overdue"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:I,disabled:d,children:d?(0,t.jsx)(f.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(T.Trash2,{className:"h-4 w-4 text-destructive"})}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:l,children:(0,t.jsx)(k,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[c?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(p.Input,{value:x,onChange:e=>j(e.target.value),className:"text-xl font-bold",placeholder:"Task title"}),(0,t.jsx)(M,{value:N,onChange:e=>C(e.target.value),rows:4,placeholder:"Task description"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(m.Button,{onClick:S,disabled:o,children:[o?(0,t.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save"]}),(0,t.jsx)(m.Button,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg p-4 transition-colors hover:bg-muted/50",onClick:()=>{j(e.title),C(e.description||""),u(!0)},children:[(0,t.jsx)("h2",{className:"mb-2 text-2xl font-bold text-foreground",children:e.title}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.description||"No description. Click to add one."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("h3",{className:"mb-4 font-semibold text-foreground",children:"Task Details"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,t.jsx)("span",{className:"text-foreground",children:(0,v.format)(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Updated"}),(0,t.jsx)("span",{className:"text-foreground",children:(0,v.format)(new Date(e.updated_at),"MMM d, yyyy 'at' h:mm a")})]}),e.reminder_time&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(E.Bell,{className:"h-3 w-3"}),"Reminder"]}),(0,t.jsx)("span",{className:"text-foreground",children:(0,v.format)(new Date(e.reminder_time),"MMM d, yyyy 'at' h:mm a")})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-foreground",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),"Status"]}),(0,t.jsxs)(e2,{value:e.status,onValueChange:e=>R(e),children:[(0,t.jsx)(e5,{children:(0,t.jsx)(e4,{})}),(0,t.jsxs)(e3,{children:[(0,t.jsx)(e6,{value:"Pending",children:"Pending"}),(0,t.jsx)(e6,{value:"InProgress",children:"In Progress"}),(0,t.jsx)(e6,{value:"Completed",children:"Completed"}),(0,t.jsx)(e6,{value:"Archived",children:"Archived"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-foreground",children:[(0,t.jsx)(y,{className:"h-4 w-4"}),"Priority"]}),(0,t.jsxs)(e2,{value:e.priority,onValueChange:e=>L(e),children:[(0,t.jsx)(e5,{children:(0,t.jsx)(e4,{})}),(0,t.jsxs)(e3,{children:[(0,t.jsx)(e6,{value:"Low",children:"Low"}),(0,t.jsx)(e6,{value:"Medium",children:"Medium"}),(0,t.jsx)(e6,{value:"High",children:"High"}),(0,t.jsx)(e6,{value:"Urgent",children:"Urgent"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-foreground",children:[(0,t.jsx)(g.Calendar,{className:"h-4 w-4"}),"Due Date"]}),(0,t.jsx)("div",{className:(0,w.cn)("rounded-lg border border-border p-3 text-sm",H&&"border-red-500 text-red-500"),children:e.due_date?(0,v.format)(new Date(e.due_date),"MMMM d, yyyy 'at' h:mm a"):"No deadline set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-2 flex items-center gap-2 text-sm font-medium text-foreground",children:[(0,t.jsx)(D.Clock,{className:"h-4 w-4"}),"Task ID"]}),(0,t.jsx)("div",{className:"rounded-lg border border-border p-3 text-xs text-muted-foreground font-mono",children:e.id})]})]})]})})]})]})})}var ta=e.i(30085);function ts({open:e,onClose:a,defaultStatus:l="Pending"}){let{createTask:n,isCreating:i}=(0,e7.useTasks)(),[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[x,v]=(0,r.useState)("Medium"),[y,j]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[N,C]=(0,r.useState)(""),[S,P]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),I=async e=>{let t,r;if(e.preventDefault(),!o.trim())return void E("Title is required");E(""),y&&(t=b?new Date(`${y}T${b}`).toISOString():new Date(`${y}T23:59:59`).toISOString()),N&&(r=S?new Date(`${N}T${S}`).toISOString():new Date(`${N}T09:00:00`).toISOString());try{await n({title:o.trim(),description:c.trim()||void 0,priority:x,due_date:t,reminder_time:r}),d(""),u(""),v("Medium"),j(""),w(""),C(""),P(""),a()}catch(e){E(e instanceof Error?e.message:"Failed to create task")}},R=()=>{E(""),a()};return(0,t.jsx)(h.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",onClick:R}),(0,t.jsxs)(s.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-2xl border border-border bg-card p-6 shadow-2xl",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Create New Task"}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",onClick:R,children:(0,t.jsx)(k,{className:"h-4 w-4"})})]}),(0,t.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ta.Label,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(p.Input,{id:"title",value:o,onChange:e=>d(e.target.value),placeholder:"Enter task title...",required:!0,disabled:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ta.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(M,{id:"description",value:c,onChange:e=>u(e.target.value),placeholder:"Describe the task...",rows:3,disabled:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ta.Label,{children:"Priority"}),(0,t.jsxs)(e2,{value:x,onValueChange:e=>v(e),disabled:i,children:[(0,t.jsx)(e5,{children:(0,t.jsx)(e4,{})}),(0,t.jsxs)(e3,{children:[(0,t.jsx)(e6,{value:"Low",children:"Low"}),(0,t.jsx)(e6,{value:"Medium",children:"Medium"}),(0,t.jsx)(e6,{value:"High",children:"High"}),(0,t.jsx)(e6,{value:"Urgent",children:"Urgent"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ta.Label,{htmlFor:"dueDate",children:"Due Date"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(g.Calendar,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(p.Input,{id:"dueDate",type:"date",value:y,onChange:e=>j(e.target.value),className:"pl-10",disabled:i})]}),(0,t.jsxs)("div",{className:"relative w-32",children:[(0,t.jsx)(D.Clock,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(p.Input,{type:"time",value:b,onChange:e=>w(e.target.value),className:"pl-10",disabled:i})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ta.Label,{htmlFor:"reminderDate",children:"Reminder"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(g.Calendar,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(p.Input,{id:"reminderDate",type:"date",value:N,onChange:e=>C(e.target.value),className:"pl-10",disabled:i})]}),(0,t.jsxs)("div",{className:"relative w-32",children:[(0,t.jsx)(D.Clock,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(p.Input,{type:"time",value:S,onChange:e=>P(e.target.value),className:"pl-10",disabled:i})]})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"You'll receive a notification at this time"})]}),T&&(0,t.jsx)(s.motion.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-destructive",children:T}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(m.Button,{type:"button",variant:"outline",className:"flex-1 bg-transparent",onClick:R,disabled:i,children:"Cancel"}),(0,t.jsx)(m.Button,{type:"submit",className:"flex-1",disabled:i,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Task"})]})]})]})]})})}let tl=[{id:"Pending",title:"Pending",color:"bg-blue-500"},{id:"InProgress",title:"In Progress",color:"bg-yellow-500"},{id:"Completed",title:"Completed",color:"bg-green-500"},{id:"Archived",title:"Archived",color:"bg-gray-500"}];function tn(){let{tasks:e,updateStatus:a,isLoading:n}=(0,e7.useTasks)(),[i,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)("Pending"),x=async(e,t)=>{try{await a(e,t)}catch(e){console.error("Failed to update task status:",e)}};return n?(0,t.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:tl.map(r=>{let a=e.filter(e=>e.status===r.id);return(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`h-3 w-3 rounded-full ${r.color}`}),(0,t.jsx)("h2",{className:"font-semibold text-foreground",children:r.title}),(0,t.jsx)("span",{className:"ml-1 rounded-full bg-muted px-2 py-0.5 text-xs font-medium text-muted-foreground",children:a.length})]}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{p(r.id),c(!0)},children:(0,t.jsx)(l.Plus,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex min-h-[200px] flex-1 flex-col gap-3 rounded-xl bg-muted/30 p-3",onDragOver:e=>e.preventDefault(),onDrop:e=>{let t=e.dataTransfer.getData("taskId");t&&x(t,r.id)},children:(0,t.jsx)(h.AnimatePresence,{mode:"popLayout",children:a.map((e,r)=>(0,t.jsx)("div",{draggable:!0,onDragStart:t=>t.dataTransfer.setData("taskId",e.id),children:(0,t.jsx)(S,{task:e,onClick:()=>o(e),index:r})},e.id))})})]},r.id)})}),(0,t.jsx)(tr,{task:i,open:!!i,onClose:()=>o(null)}),(0,t.jsx)(ts,{open:d,onClose:()=>c(!1),defaultStatus:u})]})}var ti=e.i(73843);function to(){let[e,n]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),[v,g]=(0,r.useState)("board"),{isAuthenticated:y}=(0,ti.useAuthStore)(),{isLoading:j,refetch:b}=(0,e7.useTasks)(),N=(0,a.useRouter)();return((0,r.useEffect)(()=>{y||N.push("/login")},[y,N]),y)?(0,t.jsx)(x.AppLayout,{title:"Tasks",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(p.Input,{placeholder:"Search tasks...",value:h,onChange:e=>f(e.target.value),className:"w-64 pl-9"})]}),(0,t.jsx)(m.Button,{variant:"outline",size:"icon",children:(0,t.jsx)(i,{className:"h-4 w-4"})}),(0,t.jsx)(m.Button,{variant:"outline",size:"icon",onClick:()=>b(),disabled:j,children:(0,t.jsx)(u.RefreshCw,{className:(0,w.cn)("h-4 w-4",j&&"animate-spin")})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex rounded-lg border border-border p-1",children:[(0,t.jsx)(m.Button,{variant:"board"===v?"secondary":"ghost",size:"sm",onClick:()=>g("board"),children:(0,t.jsx)(d,{className:"h-4 w-4"})}),(0,t.jsx)(m.Button,{variant:"list"===v?"secondary":"ghost",size:"sm",onClick:()=>g("list"),children:(0,t.jsx)(c,{className:"h-4 w-4"})})]}),(0,t.jsxs)(m.Button,{onClick:()=>n(!0),children:[(0,t.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"New Task"]})]})]}),(0,t.jsx)(tn,{}),(0,t.jsx)(ts,{open:e,onClose:()=>n(!1)})]})}):null}e.s(["default",()=>to],4120)}]);