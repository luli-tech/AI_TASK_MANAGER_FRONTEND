module.exports = [
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[project]/Desktop/task-manager-web-app/lib/query-client.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "QueryProvider",
    ()=>QueryProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/next@16.0.3_@opentelemetry+_162ef2eee2977cfe0d3476575909914c/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f40$tanstack$2b$query$2d$core$40$5$2e$90$2e$11$2f$node_modules$2f40$tanstack$2f$query$2d$core$2f$build$2f$modern$2f$queryClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/@tanstack+query-core@5.90.11/node_modules/@tanstack/query-core/build/modern/queryClient.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f40$tanstack$2b$react$2d$query$40$5$2e$90$2e$11_react$40$19$2e$2$2e$0$2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/@tanstack+react-query@5.90.11_react@19.2.0/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/next@16.0.3_@opentelemetry+_162ef2eee2977cfe0d3476575909914c/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
"use client";
;
;
;
function QueryProvider({ children }) {
    const [queryClient] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f40$tanstack$2b$query$2d$core$40$5$2e$90$2e$11$2f$node_modules$2f40$tanstack$2f$query$2d$core$2f$build$2f$modern$2f$queryClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QueryClient"]({
            defaultOptions: {
                queries: {
                    staleTime: 60 * 1000,
                    retry: 3,
                    retryDelay: (attemptIndex)=>Math.min(1000 * 2 ** attemptIndex, 30000),
                    refetchOnWindowFocus: false
                },
                mutations: {
                    retry: 2
                }
            }
        }));
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f40$tanstack$2b$react$2d$query$40$5$2e$90$2e$11_react$40$19$2e$2$2e$0$2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QueryClientProvider"], {
        client: queryClient,
        children: children
    }, void 0, false, {
        fileName: "[project]/Desktop/task-manager-web-app/lib/query-client.tsx",
        lineNumber: 24,
        columnNumber: 10
    }, this);
}
}),
"[project]/Desktop/task-manager-web-app/lib/api-client.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "API_BASE_URL",
    ()=>API_BASE_URL,
    "apiClient",
    ()=>apiClient,
    "clearTokens",
    ()=>clearTokens,
    "getAccessToken",
    ()=>getAccessToken,
    "getRefreshToken",
    ()=>getRefreshToken,
    "setTokens",
    ()=>setTokens
]);
// Token management
const TOKEN_KEY = "access_token";
const REFRESH_TOKEN_KEY = "refresh_token";
function getAccessToken() {
    if ("TURBOPACK compile-time truthy", 1) return null;
    //TURBOPACK unreachable
    ;
}
function getRefreshToken() {
    if ("TURBOPACK compile-time truthy", 1) return null;
    //TURBOPACK unreachable
    ;
}
function setTokens(accessToken, refreshToken) {
    if ("TURBOPACK compile-time truthy", 1) return;
    //TURBOPACK unreachable
    ;
}
function clearTokens() {
    if ("TURBOPACK compile-time truthy", 1) return;
    //TURBOPACK unreachable
    ;
}
class ApiClient {
    baseUrl;
    requestInterceptors = [];
    responseInterceptors = [];
    errorInterceptors = [];
    cache = new Map();
    cacheDuration = 5 * 60 * 1000 // 5 minutes
    ;
    isRefreshing = false;
    refreshPromise = null;
    constructor(baseUrl){
        this.baseUrl = baseUrl;
    }
    addRequestInterceptor(interceptor) {
        this.requestInterceptors.push(interceptor);
    }
    addResponseInterceptor(interceptor) {
        this.responseInterceptors.push(interceptor);
    }
    addErrorInterceptor(interceptor) {
        this.errorInterceptors.push(interceptor);
    }
    getCacheKey(url, config) {
        return `${config.method || "GET"}-${url}-${JSON.stringify(config.body || {})}`;
    }
    getFromCache(key) {
        const cached = this.cache.get(key);
        if (cached && Date.now() - cached.timestamp < this.cacheDuration) {
            return cached.data;
        }
        this.cache.delete(key);
        return null;
    }
    setCache(key, data) {
        this.cache.set(key, {
            data,
            timestamp: Date.now()
        });
    }
    async refreshAccessToken() {
        if (this.isRefreshing && this.refreshPromise) {
            return this.refreshPromise;
        }
        this.isRefreshing = true;
        this.refreshPromise = (async ()=>{
            const refreshToken = getRefreshToken();
            if (!refreshToken) {
                this.isRefreshing = false;
                return false;
            }
            try {
                const response = await fetch(`${this.baseUrl}/api/auth/refresh`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        refresh_token: refreshToken
                    })
                });
                if (response.ok) {
                    const data = await response.json();
                    setTokens(data.access_token, data.refresh_token);
                    this.isRefreshing = false;
                    return true;
                }
            } catch (error) {
                console.error("[API] Failed to refresh token:", error);
            }
            clearTokens();
            this.isRefreshing = false;
            return false;
        })();
        return this.refreshPromise;
    }
    async request(url, config = {}) {
        let processedConfig = {
            ...config,
            method: config.method || "GET"
        };
        // Run request interceptors
        for (const interceptor of this.requestInterceptors){
            processedConfig = await interceptor(processedConfig);
        }
        // Add auth token if not skipped
        if (!processedConfig.skipAuth) {
            const token = getAccessToken();
            if (token) {
                processedConfig.headers = {
                    ...processedConfig.headers,
                    Authorization: `Bearer ${token}`
                };
            }
        }
        // Check cache for GET requests
        const cacheKey = this.getCacheKey(url, processedConfig);
        if (processedConfig.method === "GET") {
            const cached = this.getFromCache(cacheKey);
            if (cached) {
                return {
                    data: cached,
                    status: 200,
                    ok: true
                };
            }
        }
        const retries = config.retries || 3;
        const retryDelay = config.retryDelay || 1000;
        let lastError = null;
        for(let attempt = 0; attempt < retries; attempt++){
            try {
                const response = await fetch(`${this.baseUrl}${url}`, {
                    method: processedConfig.method,
                    headers: {
                        "Content-Type": "application/json",
                        ...processedConfig.headers
                    },
                    body: processedConfig.body ? JSON.stringify(processedConfig.body) : undefined,
                    cache: processedConfig.cache
                });
                // Handle 401 - try to refresh token
                if (response.status === 401 && !processedConfig.skipAuth) {
                    const refreshed = await this.refreshAccessToken();
                    if (refreshed) {
                        // Retry with new token
                        const newToken = getAccessToken();
                        processedConfig.headers = {
                            ...processedConfig.headers,
                            Authorization: `Bearer ${newToken}`
                        };
                        continue;
                    } else {
                        // Redirect to login
                        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
                        ;
                        throw new Error("Session expired. Please login again.");
                    }
                }
                let data;
                const contentType = response.headers.get("content-type");
                if (contentType?.includes("application/json")) {
                    data = await response.json();
                } else {
                    data = await response.text();
                }
                let result = {
                    data,
                    status: response.status,
                    ok: response.ok
                };
                // Run response interceptors
                for (const interceptor of this.responseInterceptors){
                    result = await interceptor(result);
                }
                if (!result.ok) {
                    const errorMessage = typeof data === "object" && data && "message" in data ? data.message : `API Error: ${response.status}`;
                    throw new Error(errorMessage);
                }
                // Cache successful GET requests
                if (processedConfig.method === "GET") {
                    this.setCache(cacheKey, result.data);
                }
                return result;
            } catch (error) {
                lastError = error;
                // Run error interceptors
                for (const interceptor of this.errorInterceptors){
                    interceptor(lastError);
                }
                // Don't retry on auth errors
                if (lastError.message.includes("Session expired")) {
                    throw lastError;
                }
                if (attempt < retries - 1) {
                    await new Promise((resolve)=>setTimeout(resolve, retryDelay * (attempt + 1)));
                }
            }
        }
        throw lastError;
    }
    get(url, config) {
        return this.request(url, {
            ...config,
            method: "GET"
        });
    }
    post(url, body, config) {
        return this.request(url, {
            ...config,
            method: "POST",
            body
        });
    }
    put(url, body, config) {
        return this.request(url, {
            ...config,
            method: "PUT",
            body
        });
    }
    patch(url, body, config) {
        return this.request(url, {
            ...config,
            method: "PATCH",
            body
        });
    }
    delete(url, config) {
        return this.request(url, {
            ...config,
            method: "DELETE"
        });
    }
    clearCache() {
        this.cache.clear();
    }
    invalidateCache(pattern) {
        if (!pattern) {
            this.cache.clear();
            return;
        }
        for (const key of this.cache.keys()){
            if (key.includes(pattern)) {
                this.cache.delete(key);
            }
        }
    }
}
const API_BASE_URL = ("TURBOPACK compile-time value", "https://task-manager-84ag.onrender.com") || "https://task-manager-84ag.onrender.com";
const apiClient = new ApiClient(API_BASE_URL);
// Add error logging interceptor
apiClient.addErrorInterceptor((error)=>{
    console.error("[API Error]", error.message);
});
// Add response logging interceptor for debugging
apiClient.addResponseInterceptor((response)=>{
    if (!response.ok) {
        console.error("[API Response Error]", response.status, response.data);
    }
    return response;
});
}),
"[project]/Desktop/task-manager-web-app/lib/store.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useAuthStore",
    ()=>useAuthStore,
    "useChatStore",
    ()=>useChatStore,
    "useNotificationStore",
    ()=>useNotificationStore,
    "useTaskStore",
    ()=>useTaskStore,
    "useUIStore",
    ()=>useUIStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/zustand@5.0.8_@types+react@_e0de22dce18d7b8b0318449e26ad2c3f/node_modules/zustand/esm/react.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/zustand@5.0.8_@types+react@_e0de22dce18d7b8b0318449e26ad2c3f/node_modules/zustand/esm/middleware.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/lib/api-client.ts [app-ssr] (ecmascript)");
;
;
;
const useAuthStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["create"])()((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["persist"])((set, get)=>({
        user: null,
        isAuthenticated: false,
        isLoading: false,
        error: null,
        login: async (email, password)=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/auth/login", {
                    email,
                    password
                }, {
                    skipAuth: true
                });
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setTokens"])(data.access_token, data.refresh_token);
                const user = {
                    id: data.user.id,
                    username: data.user.username,
                    email: data.user.email,
                    role: data.user.role,
                    created_at: data.user.created_at,
                    updated_at: data.user.updated_at,
                    is_online: true
                };
                set({
                    user,
                    isAuthenticated: true,
                    isLoading: false
                });
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Login failed";
                set({
                    error: message,
                    isLoading: false
                });
                return false;
            }
        },
        loginWithGoogle: ()=>{
            // Redirect to Google OAuth endpoint
            window.location.href = `${__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["API_BASE_URL"]}/api/auth/google`;
        },
        signup: async (username, email, password)=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/auth/register", {
                    username,
                    email,
                    password
                }, {
                    skipAuth: true
                });
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setTokens"])(data.access_token, data.refresh_token);
                const user = {
                    id: data.user.id,
                    username: data.user.username,
                    email: data.user.email,
                    role: data.user.role,
                    created_at: data.user.created_at,
                    updated_at: data.user.updated_at,
                    is_online: true
                };
                set({
                    user,
                    isAuthenticated: true,
                    isLoading: false
                });
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Registration failed";
                set({
                    error: message,
                    isLoading: false
                });
                return false;
            }
        },
        logout: async ()=>{
            try {
                await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/auth/logout");
            } catch (error) {
                console.error("[Auth] Logout error:", error);
            } finally{
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["clearTokens"])();
                set({
                    user: null,
                    isAuthenticated: false
                });
                __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].clearCache();
            }
        },
        refreshToken: async ()=>{
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/auth/refresh");
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setTokens"])(data.access_token, data.refresh_token);
                return true;
            } catch  {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["clearTokens"])();
                set({
                    user: null,
                    isAuthenticated: false
                });
                return false;
            }
        },
        checkAuth: async ()=>{
            const token = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAccessToken"])();
            if (!token) {
                set({
                    user: null,
                    isAuthenticated: false
                });
                return;
            }
            // If we have stored user data, consider authenticated
            const state = get();
            if (state.user) {
                set({
                    isAuthenticated: true
                });
            }
        },
        clearError: ()=>set({
                error: null
            })
    }), {
    name: "auth-storage",
    partialize: (state)=>({
            user: state.user,
            isAuthenticated: state.isAuthenticated
        })
}));
const useTaskStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["create"])()((set, get)=>({
        tasks: [],
        isLoading: false,
        error: null,
        filters: {},
        fetchTasks: async (filters)=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const queryParams = new URLSearchParams();
                const activeFilters = filters || get().filters;
                if (activeFilters.status) queryParams.append("status", activeFilters.status);
                if (activeFilters.priority) queryParams.append("priority", activeFilters.priority);
                if (activeFilters.due_before) queryParams.append("due_before", activeFilters.due_before);
                if (activeFilters.due_after) queryParams.append("due_after", activeFilters.due_after);
                const queryString = queryParams.toString();
                const url = `/api/tasks${queryString ? `?${queryString}` : ""}`;
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get(url);
                set({
                    tasks: data,
                    isLoading: false
                });
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to fetch tasks";
                set({
                    error: message,
                    isLoading: false
                });
            }
        },
        createTask: async (taskData)=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/tasks", taskData);
                set((state)=>({
                        tasks: [
                            ...state.tasks,
                            data
                        ],
                        isLoading: false
                    }));
                __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].invalidateCache("/api/tasks");
                return data;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to create task";
                set({
                    error: message,
                    isLoading: false
                });
                return null;
            }
        },
        updateTask: async (id, updates)=>{
            set({
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].put(`/api/tasks/${id}`, updates);
                set((state)=>({
                        tasks: state.tasks.map((task)=>task.id === id ? data : task)
                    }));
                __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].invalidateCache("/api/tasks");
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to update task";
                set({
                    error: message
                });
                return false;
            }
        },
        deleteTask: async (id)=>{
            set({
                error: null
            });
            try {
                await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].delete(`/api/tasks/${id}`);
                set((state)=>({
                        tasks: state.tasks.filter((task)=>task.id !== id)
                    }));
                __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].invalidateCache("/api/tasks");
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to delete task";
                set({
                    error: message
                });
                return false;
            }
        },
        updateTaskStatus: async (id, status)=>{
            set({
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].patch(`/api/tasks/${id}/status`, {
                    status
                });
                set((state)=>({
                        tasks: state.tasks.map((task)=>task.id === id ? data : task)
                    }));
                __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].invalidateCache("/api/tasks");
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to update task status";
                set({
                    error: message
                });
                return false;
            }
        },
        setFilters: (filters)=>{
            set({
                filters
            });
            get().fetchTasks(filters);
        },
        clearError: ()=>set({
                error: null
            })
    }));
const useChatStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["create"])()((set, get)=>({
        conversations: [],
        messages: [],
        activeConversation: null,
        isLoading: false,
        error: null,
        fetchConversations: async ()=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get("/api/messages/conversations");
                set({
                    conversations: data,
                    isLoading: false
                });
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to fetch conversations";
                set({
                    error: message,
                    isLoading: false
                });
            }
        },
        fetchMessages: async (otherUserId)=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get(`/api/messages/conversations/${otherUserId}`);
                set({
                    messages: data,
                    isLoading: false
                });
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to fetch messages";
                set({
                    error: message,
                    isLoading: false
                });
            }
        },
        sendMessage: async (messageData)=>{
            set({
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post("/api/messages", messageData);
                set((state)=>({
                        messages: [
                            ...state.messages,
                            data
                        ]
                    }));
                // Refresh conversations to update last message
                get().fetchConversations();
                return true;
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to send message";
                set({
                    error: message
                });
                return false;
            }
        },
        markAsRead: async (messageId)=>{
            try {
                await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].put(`/api/messages/${messageId}/read`);
                set((state)=>({
                        messages: state.messages.map((msg)=>msg.id === messageId ? {
                                ...msg,
                                is_read: true
                            } : msg)
                    }));
                return true;
            } catch  {
                return false;
            }
        },
        setActiveConversation: (userId)=>{
            set({
                activeConversation: userId,
                messages: []
            });
            if (userId) {
                get().fetchMessages(userId);
            }
        },
        clearError: ()=>set({
                error: null
            })
    }));
const useNotificationStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["create"])()((set, get)=>({
        notifications: [],
        isLoading: false,
        error: null,
        eventSource: null,
        fetchNotifications: async ()=>{
            set({
                isLoading: true,
                error: null
            });
            try {
                const { data } = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get("/api/notifications");
                set({
                    notifications: data,
                    isLoading: false
                });
            } catch (error) {
                const message = error instanceof Error ? error.message : "Failed to fetch notifications";
                set({
                    error: message,
                    isLoading: false
                });
            }
        },
        markAsRead: async (id)=>{
            try {
                await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].patch(`/api/notifications/${id}/read`);
                set((state)=>({
                        notifications: state.notifications.map((n)=>n.id === id ? {
                                ...n,
                                is_read: true
                            } : n)
                    }));
                return true;
            } catch  {
                return false;
            }
        },
        deleteNotification: async (id)=>{
            try {
                await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].delete(`/api/notifications/${id}`);
                set((state)=>({
                        notifications: state.notifications.filter((n)=>n.id !== id)
                    }));
                return true;
            } catch  {
                return false;
            }
        },
        subscribeToNotifications: ()=>{
            const token = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAccessToken"])();
            if (!token) return;
            // Close existing connection
            get().unsubscribeFromNotifications();
            const eventSource = new EventSource(`${__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["API_BASE_URL"]}/api/notifications/stream?token=${token}`);
            eventSource.onmessage = (event)=>{
                try {
                    const notification = JSON.parse(event.data);
                    set((state)=>({
                            notifications: [
                                notification,
                                ...state.notifications
                            ]
                        }));
                } catch (error) {
                    console.error("[SSE] Failed to parse notification:", error);
                }
            };
            eventSource.onerror = ()=>{
                console.error("[SSE] Connection error");
                eventSource.close();
                // Try to reconnect after 5 seconds
                setTimeout(()=>{
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getAccessToken"])()) {
                        get().subscribeToNotifications();
                    }
                }, 5000);
            };
            set({
                eventSource
            });
        },
        unsubscribeFromNotifications: ()=>{
            const { eventSource } = get();
            if (eventSource) {
                eventSource.close();
                set({
                    eventSource: null
                });
            }
        },
        clearError: ()=>set({
                error: null
            })
    }));
const useUIStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["create"])()((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$_e0de22dce18d7b8b0318449e26ad2c3f$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["persist"])((set)=>({
        sidebarOpen: true,
        theme: "dark",
        toggleSidebar: ()=>set((state)=>({
                    sidebarOpen: !state.sidebarOpen
                })),
        setTheme: (theme)=>set({
                theme
            })
    }), {
    name: "ui-storage"
}));
}),
"[project]/Desktop/task-manager-web-app/components/providers.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Providers",
    ()=>Providers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/next@16.0.3_@opentelemetry+_162ef2eee2977cfe0d3476575909914c/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/node_modules/.pnpm/next@16.0.3_@opentelemetry+_162ef2eee2977cfe0d3476575909914c/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$query$2d$client$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/lib/query-client.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$store$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/task-manager-web-app/lib/store.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
;
function ThemeProvider({ children }) {
    const { theme } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$store$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useUIStore"])();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        document.documentElement.classList.toggle("dark", theme === "dark");
    }, [
        theme
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: children
    }, void 0, false);
}
function Providers({ children }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$lib$2f$query$2d$client$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QueryProvider"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$task$2d$manager$2d$web$2d$app$2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$3_$40$opentelemetry$2b$_162ef2eee2977cfe0d3476575909914c$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(ThemeProvider, {
            children: children
        }, void 0, false, {
            fileName: "[project]/Desktop/task-manager-web-app/components/providers.tsx",
            lineNumber: 20,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/Desktop/task-manager-web-app/components/providers.tsx",
        lineNumber: 19,
        columnNumber: 5
    }, this);
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__cb22c11a._.js.map